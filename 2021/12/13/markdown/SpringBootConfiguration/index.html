<!DOCTYPE html>
<html lang="zh-Hans">
<head>

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no" />
<meta name="author" content="VHBin" />



<meta name="description" content="SpringBoot的两种全局配置文件: application.properties application.yml  (其文件名固定) .yml YAML语言编写的文件(application.properties和application.yml都可以被SpringBoot自动读取) YAML学习(入门)  SpringBoot配置绑定配置绑定 意为:将配置文件的值与JavaBean中对应属性">
<meta property="og:type" content="article">
<meta property="og:title" content="SpringBoot Configuration">
<meta property="og:url" content="https://example.com/2021/12/13/markdown/SpringBootConfiguration/index.html">
<meta property="og:site_name" content="Learning Blog">
<meta property="og:description" content="SpringBoot的两种全局配置文件: application.properties application.yml  (其文件名固定) .yml YAML语言编写的文件(application.properties和application.yml都可以被SpringBoot自动读取) YAML学习(入门)  SpringBoot配置绑定配置绑定 意为:将配置文件的值与JavaBean中对应属性">
<meta property="og:locale">
<meta property="og:image" content="https://example.com/2021/12/13/markdown/learn_Image/SpringBoot%E5%8A%A0%E8%BD%BD%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%BC%98%E5%85%88%E7%BA%A7%E9%A1%BA%E5%BA%8F.png">
<meta property="article:published_time" content="2021-12-13T09:58:44.276Z">
<meta property="article:modified_time" content="2021-12-13T14:58:34.945Z">
<meta property="article:author" content="VHBin">
<meta property="article:tag" content="SpringBoot">
<meta property="article:tag" content="Configuration">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://example.com/2021/12/13/markdown/learn_Image/SpringBoot%E5%8A%A0%E8%BD%BD%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%BC%98%E5%85%88%E7%BA%A7%E9%A1%BA%E5%BA%8F.png">

<link rel="apple-touch-icon" href= "/apple-touch-icon.png">




    <link rel="shortcut icon" href="/img/niconico.png">



    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">



    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">



<link rel="stylesheet" href="/css/style.css">




<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>SpringBoot Configuration | Learning Blog</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: false,
        isPost: true,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: 
    }
</script>


    <script>
        yiliaConfig.jquery_ui = [true, "//cdn.bootcss.com/jqueryui/1.10.4/jquery-ui.min.js", "//cdn.bootcss.com/jqueryui/1.10.4/css/jquery-ui.min.css"];
    </script>



    <script> yiliaConfig.rootUrl = "\/";</script>






<meta name="generator" content="Hexo 5.4.0"></head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/img/avatar.png" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/"></a></h1>
        </hgroup>

        

        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/index.html">主页</a></li>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/tags/">标签云</a></li>
                        
                            <li><a href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa GitHub" target="_blank" rel="noopener" href="https://github.com/kanosukil" title="GitHub"></a>
                            
                                <a class="fa bilibili" target="_blank" rel="noopener" href="https://space.bilibili.com/34467149" title="bilibili"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Configuration/" rel="tag">Configuration</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DataBase/" rel="tag">DataBase</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Exception/" rel="tag">Exception</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Filter/" rel="tag">Filter</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Interceptor/" rel="tag">Interceptor</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Internationalization/" rel="tag">Internationalization</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Listener/" rel="tag">Listener</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Log/" rel="tag">Log</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Servlet/" rel="tag">Servlet</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringBoot/" rel="tag">SpringBoot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringBoot-Starter/" rel="tag">SpringBoot Starter</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Thymeleaf/" rel="tag">Thymeleaf</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Web-Static-Source/" rel="tag">Web Static Source</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/YAML/" rel="tag">YAML</a></li></ul>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a class="main-nav-link switch-friends-link" target="_blank" rel="noopener" href="https://hexo.io">Hexo</a>
                    
                      <a class="main-nav-link switch-friends-link" target="_blank" rel="noopener" href="https://pages.github.com/">GitHub</a>
                    
                      <a class="main-nav-link switch-friends-link" target="_blank" rel="noopener" href="http://moxfive.xyz/">MOxFIVE</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">true</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页"></a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/img/avatar.png" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页"></a></h1>
            </hgroup>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/index.html">主页</a></li>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/tags/">标签云</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa GitHub" target="_blank" href="https://github.com/kanosukil" title="GitHub"></a>
                            
                                <a class="fa bilibili" target="_blank" href="https://space.bilibili.com/34467149" title="bilibili"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="标签" friends="友情链接" about="关于我"/>
</nav>
      <div class="body-wrap"><article id="post-markdown/SpringBootConfiguration" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2021/12/13/markdown/SpringBootConfiguration/" class="article-date">
      <time datetime="2021-12-13T09:58:44.276Z" itemprop="datePublished">2021-12-13</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      SpringBoot Configuration
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Log-for-Learn/">Log for Learn</a>
    </div>


        
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Configuration/" rel="tag">Configuration</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SpringBoot/" rel="tag">SpringBoot</a></li></ul>
    </div>

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h3 id="SpringBoot的两种全局配置文件"><a href="#SpringBoot的两种全局配置文件" class="headerlink" title="SpringBoot的两种全局配置文件:"></a>SpringBoot的两种全局配置文件:</h3><ol>
<li>application.properties</li>
<li>application.yml</li>
</ol>
<p>(其文件名固定)</p>
<p>.yml YAML语言编写的文件(application.properties和application.yml都可以被SpringBoot自动读取)</p>
<p><a href="YAMLStudy.md">YAML学习(入门)</a></p>
<hr>
<h2 id="SpringBoot配置绑定"><a href="#SpringBoot配置绑定" class="headerlink" title="SpringBoot配置绑定"></a>SpringBoot配置绑定</h2><p>配置绑定 意为:将配置文件的值与JavaBean中对应属性进行绑定.</p>
<p>通常将一些配置信息(如 数据库配置)放入配置文件,之后通过Java代码读取配置文件并将指定配置封装到JavaBean(实体类)之中.</p>
<ul>
<li>SpringBoot的两种配置绑定<ul>
<li>@ConfigurationProperties</li>
<li>@Value</li>
</ul>
</li>
</ul>
<ul>
<li>@ConfigurationProperties<ul>
<li>见application.yml 和 <em><strong>Person.java</strong></em> Dog.java</li>
</ul>
</li>
<li>@Value<ul>
<li>见application.yml 和 <em><strong>SpecialPerson.java</strong></em> Dog.java</li>
</ul>
</li>
</ul>
<ul>
<li>两者的异同<ul>
<li>同:<ul>
<li>都可以读取配置文件中的属性值并绑定到JavaBean中</li>
</ul>
</li>
<li>异<ul>
<li>使用位置不同<ul>
<li>@ConfigurationProperties JavaBean 类名上</li>
<li>@Value JavaBean 属性上</li>
</ul>
</li>
<li>功能不同<ul>
<li>@ConfigurationProperties 批量绑定配置文件中的配置</li>
<li>@Value 一个一个的绑定需要绑定的属性</li>
</ul>
</li>
<li>松散绑定支持不同<ul>
<li>@ConfigurationProperties 支持松散绑定(松散语法)<ul>
<li>例:Person 中的 lastName 属性,配置文件中的属性名支持下列写法<ul>
<li>Person.lastName</li>
<li>Person.last-name</li>
<li>Person.last_name</li>
<li>PERSON_LAST_NAME</li>
</ul>
</li>
</ul>
</li>
<li>@Value 不支持松散绑定</li>
</ul>
</li>
<li>SpEL 支持不同<ul>
<li>@ConfigurationProperties 不支持SpEl表达式</li>
<li>@Value 支持SpEL表达式</li>
</ul>
</li>
<li>复杂类型封装<ul>
<li>@ConfigurationProperties 支持所有类型的封装(例如:Map List Set 以及对象等)</li>
<li>@Value 只支持基本数据类型(例如:字符串 布尔值 整数等)</li>
</ul>
</li>
<li>应用场景不同<ul>
<li>若只是获得配置文件中某项值 则使用 @Value</li>
<li>若专门编写一个 JavaBean 来配置文件进行映射 则使用 @ConfigurationProperties</li>
<li><em><strong>二者没有明显的优劣</strong></em></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li>@PropertySource<ul>
<li>将无关SpringBoot的配置写在单独的配置文件中(防止application.properties 或 application.yml 文件过于臃肿而难以维护),并在对应JavaBean上使用@PropertySource注解指向该配置文件<ul>
<li>见person.properties 和 FamiliarPerson.java</li>
</ul>
</li>
</ul>
</li>
</ul>
<blockquote>
<p><em><strong>注</strong></em> :.properties文件默认编码为ios-5529-1输入中文将自动转码,idea需要在<code>settings -&gt; editor -&gt; file encodings</code> 内修改编码</p>
</blockquote>
<hr>
<h2 id="SpringBoot导入Spring配置"><a href="#SpringBoot导入Spring配置" class="headerlink" title="SpringBoot导入Spring配置"></a><em><strong>SpringBoot导入Spring配置</strong></em></h2><ul>
<li>默认情况,SpringBoot不包含任何Spring配置文件(即便是手动添加,也不会识别).但SpringBoot提供了其他方法导入Spring配置<ul>
<li>@ImportResource注解加载Spring配置文件</li>
<li>使用全注解的方式加载Spring配置</li>
</ul>
</li>
</ul>
<h3 id="ImportResource导入Spring配置文件"><a href="#ImportResource导入Spring配置文件" class="headerlink" title="@ImportResource导入Spring配置文件"></a><strong>@ImportResource</strong>导入Spring配置文件</h3><p>在主启动类上使用@ImportResource注解可导入一个或多个Spring配置文件,并使其生效</p>
<ul>
<li>步骤(括号内为该项目中的例子)<ol>
<li>创建Service接口(PersonService.java)</li>
<li>创建Impl类实现Service接口(PersonServiceImpl.java)</li>
<li>编写Spring配置文件(beans.xml)</li>
<li>在主启动程序类上使用@ImportResource注解(SpringBootLearnApplication.java)</li>
<li>测试Spring配置文件是否加载到IOC容器中(SpringBootLearnApplicationTests.java)</li>
</ol>
</li>
</ul>
<blockquote>
<p>若没有配置主启动程序类的@ImportResource注解,IOC容器中将识别不到Spring配置文件</p>
</blockquote>
<h3 id="全注解加载Spring配置"><a href="#全注解加载Spring配置" class="headerlink" title="全注解加载Spring配置"></a><strong>全注解</strong>加载Spring配置</h3><ul>
<li>实现方式:<ol>
<li>使用 @Configuration 注解定义配置类,替换Spring配置文件</li>
<li>配置类内部可包含一个或多个被 @Bean 注解的方法(被注解的方法将被 AnnotationConfigApplicationContext 或 AnnotationConfigWebApplicationContext 类扫描,以构建bean的定义[相当于Spring配置文件中的<bean></bean>标签].方法的返回值将会以组件的方式加载到容器中,组件的id即为方法名)</li>
</ol>
</li>
</ul>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a><em><strong>总结</strong></em></h3><ul>
<li>SpringBoot加载Spring的配置<ul>
<li>@ImportResource(locations={“path”}) 写在主启动程序类中(需要写好Spring配置文件)</li>
<li>全注解 创建以 @Configuration 注解定义的配置类,其中使用 @Bean 注解定义配置方法(方法名为组件id;方法返回值为组件)(无需再主启动程序类中添加额外的注解;不需要Spring配置文件)</li>
</ul>
</li>
</ul>
<hr>
<h2 id="SpringBootProfile-多环境配置"><a href="#SpringBootProfile-多环境配置" class="headerlink" title="SpringBootProfile(多环境配置)"></a>SpringBootProfile(多环境配置)</h2><p>实际项目中开发时通常都会有多个环境(开发环境 测试环境 生产环境)不同环境配置也不同(开发环境使用开发数据库 测试环境使用测试数据库 生产环境使用线上正式数据库)</p>
<p>Profile为不同环境的不同配置提供支持(可以通过激活 指定参数的方式快速切换环境)</p>
<h3 id="多Profile文件方式"><a href="#多Profile文件方式" class="headerlink" title="多Profile文件方式"></a>多Profile文件方式</h3><blockquote>
<p><em><strong>properties文件的优先级高于yml文件(不管是主配置文件还是环境配置文件)</strong></em></p>
</blockquote>
<ul>
<li>配置文件的命名方式:<ul>
<li>application-{profile}.properties/yml<ul>
<li>其中 profile 指各个环境的名称或简称(例如:dev test prod)</li>
</ul>
</li>
</ul>
</li>
<li>properties文件配置<ul>
<li>src/main/resources 下的4个properties配置文件<ol>
<li>application.properties 主配置文件</li>
<li>application-dev.properties 开发环境配置文件</li>
<li>application-test.properties 测试环境配置文件</li>
<li>application-prod.properties 生产环境配置文件</li>
</ol>
</li>
<li>application.properties 文件中(详见该项目下的application.properties)<ul>
<li>指定服务器端口号</li>
<li>通过指令激活指定环境</li>
</ul>
</li>
<li>application-dev.properties 文件中(详见该项目下的application-dev.properties)<ul>
<li>指定开发环境端口</li>
</ul>
</li>
<li>application-test.properties 文件中(详见该项目下的application-test.properties)<ul>
<li>指定测试环境端口</li>
</ul>
</li>
<li>application-prod.properties 文件中(详见该项目下的application-prod.properties)<ul>
<li>指定生产环境端口</li>
</ul>
</li>
</ul>
</li>
</ul>
<blockquote>
<p>注:激活指定profile后主配置文件中设置的端口不可用,只有激活环境的端口可用[可在SpringBoot启动时的控制台前3条知道端口号]</p>
</blockquote>
<ul>
<li><p>yml配置</p>
<ul>
<li>和properties文件类似</li>
<li>src/main/resources 下的4个yml配置文件<ol>
<li>application.yml 默认配置</li>
<li>application-dev.yml 开发环境配置</li>
<li>application-test.yml 测试环境配置</li>
<li>application-prod.yml 生产环境配置</li>
</ol>
</li>
<li>application.yml 文件中(详见该项目下的application.yml)<ul>
<li>指定服务器端口号</li>
<li>通过指令激活指定环境</li>
</ul>
</li>
<li>application-dev.yml 文件中(详见该项目下的application-dev.yml)<ul>
<li>指定开发环境端口</li>
</ul>
</li>
<li>application-test.yml 文件中(详见该项目下的application-test.yml)<ul>
<li>指定测试环境端口</li>
</ul>
</li>
<li>application-prod.yml 文件中(详见该项目下的application-prod.yml)<ul>
<li>指定生产环境端口<blockquote>
<p><em><strong>注</strong></em>: 若同时配置了properties文件和yml文件(两者配置不同),以properties文件为主(不会报错,而是覆盖yml文件的配置)</p>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>多Profile文档块模式</strong></p>
<ul>
<li>主要是yml文件</li>
<li>yml配置文件中,可使用<code>---</code>将文件分隔成多个文件块(在不同文档块针对不同环境进行不同配置,并在第一个文档块内对配置进行切换)<blockquote>
<p><strong>注</strong>:文档块的优先级低于yml文件(即 同时有文档块和yml文件配置,优先加载yml文件配置)</p>
</blockquote>
</li>
</ul>
</li>
<li><p>激活Profile</p>
<ul>
<li>方式<ol>
<li>配置文件中配置激活指定Profile</li>
<li>命令行激活</li>
<li>虚拟机参数激活</li>
</ol>
</li>
<li>命令行激活<ul>
<li>将SpringBoot打包成jar包(<code>mvn clean package</code>)后,在命令行中运行时,可以通过配置命令行参数,激活指定Profile<blockquote>
<p>命令行参数<code>java -jar SpringBootLearn-0.0.1-SNAPSHOT.jar --spring.profiles.active=dev</code>(注意profiles有s)</p>
</blockquote>
</li>
</ul>
</li>
<li>优先级高于配置文件</li>
<li>虚拟机参数激活<ul>
<li>SpringBoot项目运行时,指定虚拟机参数激活指定Profile</li>
<li><del>* 命令行参数<code>java -Dspring.profiles.active=dev -jar SpringBootLearn-0.0.1-SNAPSHOT.jar</code><br>其中 <code>-Dspring.profiles.active=dev</code> 为激活环境Profile的虚拟机参数</del></li>
<li>存疑</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<hr>
<h2 id="SpringBoot-默认配置文件"><a href="#SpringBoot-默认配置文件" class="headerlink" title="SpringBoot 默认配置文件"></a>SpringBoot 默认配置文件</h2><p>SpringBoot启动时会将resources目录下的application.properties文件或application.yml文件作为其默认配置文件,但并不意味这SpringBoot项目中只能存在一个application.properties或application.yml文件</p>
<h3 id="默认配置文件"><a href="#默认配置文件" class="headerlink" title="默认配置文件"></a>默认配置文件</h3><p><em><strong>SpringBoot项目可以存在多个application.properties或application.yml文件</strong></em></p>
<ul>
<li>SpringBoot 在启动时会扫描5个位置的 application.properties 文件或 application.yml 文件:<ol>
<li>file:./config/</li>
<li>file:./config/*/</li>
<li>file:./</li>
<li>classpath:/config/</li>
<li>classpath:/</li>
</ol>
</li>
</ul>
<blockquote>
<p>file:当前项目根目录; classpath:当前项目的类路径,即resources目录</p>
</blockquote>
<p>以上所有位置的配置文件都将被加载,且优先级依次降低(从上至下依次降低),相同位置的application.properties的优先级高于application.yml</p>
<blockquote>
<p>所有位置的都将加载,但高优先级的配置将<strong>覆盖</strong>掉低优先级的配置即</p>
<blockquote>
<ul>
<li>存在相同的配置内容时,高优先级的内容将覆盖低优先级的内容</li>
<li>存在不同的配置内容时,高优先级和低优先级的配置内容取并集</li>
</ul>
</blockquote>
</blockquote>
<hr>
<h2 id="SpringBoot外部配置文件"><a href="#SpringBoot外部配置文件" class="headerlink" title="SpringBoot外部配置文件"></a>SpringBoot外部配置文件</h2><ul>
<li>指定外部配置文件的路径的参数<ul>
<li>spring.config.location</li>
<li>spring.config.addition-location</li>
</ul>
</li>
<li>spring.config.location<ul>
<li>jar 命令行参数 <code>--spring.config.location=&#123;外部配置文件全路径&#125;</code><blockquote>
<p><strong>注</strong>:配置该参数指定配置文件后,会使默认配置文件(application.properties 或 application.yml)失效(是失效,不是覆盖),SpringBoot将只加载外部配置文件.</p>
</blockquote>
</li>
</ul>
</li>
<li>spring.config.additional-location<ul>
<li>jar 命令行参数 <code>--spring.config.additional-location=&#123;外部配置文件全路径&#125;</code><blockquote>
<p><strong>注</strong>: <code>--spring.config.location</code> 和 <code>--spring.config.additional-location</code> 两者有一定区别.后者不会使默认配置文件失效,使用该命令行参数添加的外部配置文件和默认的配置文件共同生效,取并集并且外部配置文件优先级最高(高于任何默认配置文件)</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<p>Maven 对项目打包时,位于项目根目录的配置文件将无法被打包进项目的jar包中,因此位于根目录下的默认配置文件无法在jar包中生效.即项目将只加载外部配置文件和项目类目录下的默认配置文件,且其优先级为:</p>
<ol>
<li><code>spring.config.additional-location</code> 指定外部配置文件</li>
<li><code>classpath:/config/application.yml</code></li>
<li><code>classpath:/application.yml</code></li>
</ol>
<blockquote>
<p>解决根目录下的默认配置文件无法加载的问题:</p>
<ul>
<li>在IDEA的运行配置(Run/Debug Configuration)中,添加虚拟机参数 <code>-Dspring.config.additional-location=外部配置文件全路径</code>.</li>
<li>在IDEA的运行配置(Run/Debug Configuration)中,添加程序运行参数 <code>-spring.config.additional-location=外部配置文件全路径</code>.</li>
<li>在主启动类中调用 <code>System.setProperty()</code> 方法添加系统属性 <code>spring.config.additional-location</code> 指定外部配置文件.</li>
</ul>
</blockquote>
<hr>
<h2 id="SpringBoot配置加载顺序"><a href="#SpringBoot配置加载顺序" class="headerlink" title="SpringBoot配置加载顺序"></a>SpringBoot配置加载顺序</h2><ul>
<li>SpringBoot配置优先级(由高到低)<ol>
<li>命令行参数</li>
<li>来自java:comp/env的JNDI属性</li>
<li>Java系统属性(System.getProperties())</li>
<li>操作系统环境变量</li>
<li>RandomValuePropertySource 配置的 random.*属性值</li>
<li>配置文件(yml文件和properties文件)</li>
<li>@Configuration 注解类上的 @PropertySource 指定的配置文件</li>
<li>通过 SpringApplication.setDefaultProperties 指定的默认属性</li>
</ol>
</li>
</ul>
<blockquote>
<p>以上都会加载,但在遇到相同内容时,高优先级的配置将覆盖低优先级的配置;遇到不同内容时,高优先级和低优先级的配置内容取并集,同时生效,形成互补配置</p>
</blockquote>
<ul>
<li><p>命令行参数</p>
<ul>
<li>SpringBoot中所有配置,都可以通过命令行参数进行指定,配置形式:<ul>
<li><code>java -jar &#123;jar包文件名&#125; --&#123;参数1&#125;=&#123;参数值1&#125; --&#123;参数2&#125;=&#123;参数值2&#125;</code></li>
<li>示例:<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -jar springbootdemo-0.0.1-SNAPSHOT.jar --server.port=8081 --server.servlet.context-path=/bcb</span><br></pre></td></tr></table></figure></li>
</ul>
<ul>
<li>参数说明:<ul>
<li>–server.port: 指定端口</li>
<li>–server.servlet.context-path: 指定上下文路径(项目访问路径)</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>配置文件</p>
<ul>
<li>SpringBoot 启动时,将自动加载jar包内部及jar包所在目录指定位置的配置文件(properties文件 yml文件).<br><img src="../learn_Image/SpringBoot%E5%8A%A0%E8%BD%BD%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%BC%98%E5%85%88%E7%BA%A7%E9%A1%BA%E5%BA%8F.png" alt="配置文件优先级顺序" title="优先级"></li>
</ul>
</li>
</ul>
<ul>
<li>说明:<ul>
<li>/project : JAR包所在目录(名称自定义)</li>
<li>/childDir : JAR包所在目录下的config目录的子目录(名称自定义)</li>
<li>JAR : 项目打包生成的JAR包</li>
<li>其余带 ‘/‘ 标识的目录名称不可修改</li>
</ul>
</li>
<li>优先级顺序规则:<ol>
<li>先加载JAR包外的配置文件,再加载JAR包内的配置文件</li>
<li>先加载config目录下的配置文件,再加载config目录外的配置文件</li>
<li>先加载config子目录下的配置文件,再加载config目录下的配置文件</li>
<li>先加载application-{profile}.properties/yml文件,再加载application.properties/yml文件</li>
<li>先加载.properties文件,再加载.yml文件</li>
</ol>
</li>
</ul>
<hr>
<h2 id="SpringBoot自动配置原理"><a href="#SpringBoot自动配置原理" class="headerlink" title="SpringBoot自动配置原理"></a>SpringBoot自动配置原理</h2><p>由于SpringBoot自动化配置,因此SpringBoot项目创建完成后,即使不进行任何配置,也可运行</p>
<p>可以再application.properties 或 application.yml中进行对自动配置属性(e.g. server.port logging.level.* spring.config.active.no-profile etc.)的修改,可从<br><a target="_blank" rel="noopener" href="https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#application-properties">SpringBoot官方文档</a> 查看SpringBoot的自动配置属性(但是,SpringBoot的配置属性数量庞大,仅靠官方文档配置也很麻烦).</p>
<ul>
<li><p>Spring Factories 机制</p>
<ul>
<li>SpringBoot的自动配置基于Spring Factories机制实现<ul>
<li>Spring Factories机制是SpringBoot中的服务实现机制(和Java SPI机制相似).<blockquote>
<p>SpringBoot会自动扫描所有Jar包类路径下的META-INF/spring.factories文件,并读取其中内容,进行实例化.(同时此机制为Spring Boot Starter的基础)</p>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
<li><p>spring.factories 文件(本质上与properties 文件相似)包含一组或多组键值对,其中:key的取值为接口的完全限定名;value的取值为接口实现类的完全限定名(一个接口可以设置多个实现类,不同实现类用’,’隔开) 例如</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">org.springframework.boot.autoconfigure.AutoConfigurationImportFilter</span>=<span class="string">\org.springframework.boot.autoconfigure.condition.OnBeanCondition,\org.springframework.boot.autoconfigure.condition.OnClassCondition,\org.springframework.boot.autoconfigure.condition.OnWebApplicationCondition</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>文件配置内容过长,为方便阅读而手动换行时,可以使用’&#39;防止内容丢失</p>
</blockquote>
</li>
<li><p>Spring Factories实现原理</p>
<ul>
<li>spring-core包定义了SpringFactoriesLoader类,此类会扫描所有JAR包类路径下的META-INF/spring.factories文件,并获取指定接口与的配置.再SpringFactoriesLoader类中有两个对外的方法:</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th align="left">返回值</th>
<th align="left">方法</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>&lt;T&gt; List&lt;T&gt;</code></td>
<td align="left"><code>loadFactories(Class&lt;T&gt; factoryType, @Nullable ClassLoader classLoader)</code></td>
<td align="left">静态方法;根据接口获取其实现类的实例;该方法返回的是实现类对象列表(接口-&gt;实现类对象列表)</td>
</tr>
<tr>
<td align="left"><code>List&lt;String&gt;</code></td>
<td align="left"><code>loadFactoryNames(Class&lt;?&gt; fcatoryType, @Nullable ClassLoader classLoader)</code></td>
<td align="left">公共静态方法;根据接口获取其实现类的类名;该方法返回的是实现类的类名列表(接口-&gt;实现类类名列表)</td>
</tr>
</tbody></table>
<blockquote>
<p>关键:从<strong>指定ClassLoader</strong>获取<strong>spring.factories文件</strong>,并解析获得<strong>类名列表</strong></p>
</blockquote>
<p>loadFactories() 方法获得 指定接口 的 实现类对象列表<br><a href="../MethodsTXT/loadFactories.txt">loadFactories()</a></p>
<p>loadFactoryNames() 方法获得 指定接口 的实现类类名列表<br><a href="../MethodsTXT/loadFactoryNames.txt">loadFactoryNames()</a></p>
<p>loadSpringFactories() 方法读取该项目下 所有JAR包 类路径下的 META-INF/spring.factories 文件的配置内容,并以 Map的形式返回<br><a href="../MethodsTXT/loadSpringFactories.txt">loadSpringFactories()</a></p>
<ul>
<li><p>自动配置的加载</p>
<ul>
<li>SpringBoot自动化配置也基于 Spring Factories 机制实现.<ul>
<li>spring-boot-autoconfigure-xxx.jar 类路径下的 META-INF/spring.factories 中设置了SpringBoot的自动配置内容(仅为该文件的一块)<br><a href="../MethodsTXT/spring_factories_autoConfogurePart.txt">spring.factories(autoConfiguration Part)</a><br>其中,value的取值由多个 xxxAutoConfiguration (逗号分隔) 组成,每个 xxxAutoConfiguration 都是一个自动配置类.<blockquote>
<p>Spring Boot 启动时,将利用Spring-Factories的机制,将 xxxAutoConfiguration 实例化,并作为组件加入到容器中,以实现 Spring Boot 的自动配置.</p>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
<li><p>@SpringBootApplication 注解</p>
<ul>
<li>所有SpringBoot项目的主程序启动类都使用了一个 @SpringBootApplication 注解(最重要之一,且是实现SpringBoot自动化配置的关键)</li>
</ul>
</li>
</ul>
<ul>
<li>@SpringBootApplication 组合元注解,主要包含:<ul>
<li>@SpringBootConfiguration</li>
<li>@EnableAutoConfiguration</li>
</ul>
</li>
</ul>
<blockquote>
<p>@EnableAutoConfiguration 为 SpringBoot 自动化配置关键</p>
</blockquote>
<ul>
<li><p>@EnableAutoConfiguration 注解</p>
<ul>
<li>开启SpringBoot的自动配置功能</li>
<li>使用 Spring 框架提供的 @Import 注解通过 AutoConfigurationImportSelector 类(选择器) 给容器导入自动配置组件 <code>@Import(&#123;AutoConfigurationImportSelector.class&#125;)</code></li>
</ul>
</li>
<li><p>AutoConfigurationImportSelector 类</p>
<ul>
<li>实现了 DeferredImportSelector 接口</li>
<li>还包括 静态内部类 AutoConfigurationGroup (实现了 DeferredImportSelector 接口和 Group 内部接口)</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th align="center">返回值</th>
<th align="center">方法声明</th>
<th align="center">描述</th>
<th align="center">是否为内部类方法</th>
<th align="center">内部类</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>Class&lt;? extends Group&gt;</code></td>
<td align="center"><code>getImportGroup()</code></td>
<td align="center">该方法<strong>获取</strong>实现了Group接口的类,并实例化</td>
<td align="center">否</td>
<td align="center"></td>
</tr>
<tr>
<td align="center"><code>void</code></td>
<td align="center"><code>process(AnnotationMetadata annotationMetadata, DeferredImportSelector deferredImportSelector)</code></td>
<td align="center">用于引入自动配置的集合</td>
<td align="center">是</td>
<td align="center">AutoConfigurationGroup</td>
</tr>
<tr>
<td align="center"><code>Iterable&lt;Entry&gt;</code></td>
<td align="center"><code>selectImports()</code></td>
<td align="center">遍历自动配置类的集合(Entry类型的集合),并逐个解析集合中的配置类</td>
<td align="center">是</td>
<td align="center">AutoConfigurationGroup</td>
</tr>
</tbody></table>
<p>AutoConfigurationImportSelector 内部方法执行顺序:</p>
<ol>
<li>getImportGroup()</li>
<li>process()</li>
<li>selectImports()</li>
</ol>
<p>调用过程介绍:</p>
<ol>
<li>getImportGroup()<ul>
<li>主要用于<strong>获取</strong>实现了 DeferredImportSelector.Group 接口的类<ul>
<li><a href="../MethodsTXT/getImportGroup.txt">getImportGroup()</a></li>
</ul>
</li>
</ul>
</li>
<li>process()<ul>
<li>静态内部类 AutoConfigurationGroup 的核心方法</li>
<li>通过调用 getAutoConfigurationEntry() 方法读取 spring.factories 文件中的内容,获取自动配置类的集合<ul>
<li><a href="../MethodsTXT/process.txt">process()</a></li>
<li>getAutoConfigurationEntry() 通过调用 getCandidateConfiguration() 来获取自动配置类的完全限定类名,并通过排除 过滤等处理后,才将其加入成员变量之中.<ul>
<li><a href="../MethodsTXT/getAutoConfigurationEntry.txt">getAutoConfigurationEntry()</a></li>
<li>在 getCandidateConfigurations() 方法中,根据 Spring Factories 机制调用 SpringFactoriesLoader 的 loadFactoryNames() 方法,根据 EnableAutoConfiguration.class(自动配置接口) 获取其实现类(自动配置类) 的类名集合.<blockquote>
<p>List&lt;String&gt; = SpringFactoriesLoader.loadFactorNames(EnableAutoConfiguration.class, BeanClassLoader)</p>
</blockquote>
</li>
<li><code>protected List&lt;String&gt; getCandidateConfigurations(AnnotationMetadata metadata, AnnotationAtttributes attributes);</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>selectImports()<ul>
<li>执行完以上命令后 AutoConfigurationImportSelector.AutoConfigurationGroup#selectImports() 将过滤 排除 最后添加 process() 获取的自动配置类到容器之中.<ul>
<li><a href="../MethodsTXT/selectImports.txt">selectImports()</a></li>
</ul>
</li>
</ul>
</li>
</ol>
<ul>
<li>自动配置的生效和修改<ul>
<li>spring.factories 文件中的所有自动配置类 (以 AutoConfiguration 结尾的) 都是在一定条件下才会作为组件加入到容器中的(加入容器配置的内容才会生效).<ul>
<li>限制条件在 SpringBoot 中以 @Conditional 派生注解的形式体现 (以 Conditional 开头的注解)</li>
</ul>
</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th align="center">注解</th>
<th align="center">生效条件</th>
</tr>
</thead>
<tbody><tr>
<td align="center">@ConditionalOnJava</td>
<td align="center">应用使用指定Java版本时生效</td>
</tr>
<tr>
<td align="center">@ConditionalOnBean</td>
<td align="center">容器中存在指定Bean时生效</td>
</tr>
<tr>
<td align="center">@ConditionalOnMissingBean</td>
<td align="center">容器中不存在指定Bean时生效</td>
</tr>
<tr>
<td align="center">@ConditionalOnExpression</td>
<td align="center">满足指定SpEL表达式时生效</td>
</tr>
<tr>
<td align="center">@ConditionalOnClass</td>
<td align="center">存在指定类时生效</td>
</tr>
<tr>
<td align="center">@ConditionalOnMissingClass</td>
<td align="center">不存在指定类时生效</td>
</tr>
<tr>
<td align="center">@ConditionalOnSingleCandidate</td>
<td align="center">容器中只存在一个指定Bean或指定Bean为首选Bean时生效</td>
</tr>
<tr>
<td align="center">@ConditionalOnProperty</td>
<td align="center">系统中指定属性存在指定值时生效</td>
</tr>
<tr>
<td align="center">@ConditionalOnResource</td>
<td align="center">类路径下存在指定资源文件时生效</td>
</tr>
<tr>
<td align="center">@ConditionalOnWebApplication</td>
<td align="center">当前应用时Web应用时生效</td>
</tr>
<tr>
<td align="center">@ConditionalOnNotWebApplication</td>
<td align="center">当前应用不为Web应用时生效</td>
</tr>
</tbody></table>
<ul>
<li><p>ServletWebServerFactoryAutoConfiguration (Spring Boot 自动配置生效实例)</p>
<ul>
<li><a href="../MethodsTXT/ServletWebServerFactoryAutoConfiguration.txt">源码</a></li>
<li>ServletWebServerFactoryAutoConfiguration 使用了一个 @EnableConfigurationProperties 注解导入了一个 ServerProperties 类 <a href="../MethodsTXT/ServerProperties.txt">ServerProperties</a></li>
<li>ServletWebServerFactoryAutoConfiguration 使用 @EnableConfigurationProperties 导入 ServerProperties 类, 而 ServerProperties 类又使用 @ConfigurationProperties 注解<blockquote>
<p>@ConfigurationProperties 将类的所有属性和配置文件相关配置绑定(以便于获取或修改配置)<br>  功能由容器提供(被它注解的类必须是容器中的一个组件,否则功能不能生效)</p>
<blockquote>
<p>@EnableConfigurationProperties 将指定类以组件的形式注入IOC容器,并开启 @ConfigurationProperties的功能<br>因此,需要 组合使用 @EnableConfigurationProperties + @ConfigurationProperties 以便 xxxProperties 类实现配置绑定</p>
</blockquote>
</blockquote>
</li>
</ul>
<p><em><strong>自动配置类 xxxAutoConfiguration</strong></em> 负责使用 <em><strong>xxxProperties</strong></em> 中的属性进行自动配置. <em><strong>xxxProperties</strong></em> 负责将自动配置属性与配置文件的相关配置进行绑定(以便通过配置文件对默认配置进行修改).</p>
<blockquote>
<p>真正”限制”我们可以在配置文件中配置哪些属性的类就是这些 xxxProperties 类,它与配置文件中定义的 prefix 关键字开头的一组属性是唯一对应的.<br><em><strong>注</strong></em>: AutoConfiguration 与 Properties 并非一一对应, 大多数为多对多关系(1个 AutoConfiguration 同时使用 多个 Properties 中的属性; 1个 Properties 中的属性可被多个 AutoConfiguration 使用)</p>
</blockquote>
</li>
</ul>
<hr>
<hr>

      
    </div>
    
  </div>
  
    
    <div class="copyright">
        <p><span>本文标题:</span><a href="/2021/12/13/markdown/SpringBootConfiguration/">SpringBoot Configuration</a></p>
        <p><span>文章作者:</span><a href="/" title="回到主页"></a></p>
        <p><span>发布时间:</span>2021-12-13, 17:58:44</p>
        <p><span>最后更新:</span>2021-12-13, 22:58:34</p>
        <p>
            <span>原始链接:</span><a class="post-url" href="/2021/12/13/markdown/SpringBootConfiguration/" title="SpringBoot Configuration">https://example.com/2021/12/13/markdown/SpringBootConfiguration/</a>
            <span class="copy-path" data-clipboard-text="原文: https://example.com/2021/12/13/markdown/SpringBootConfiguration/　　作者: " title="点击复制文章链接"><i class="fa fa-clipboard"></i></span>
            <script> var clipboard = new Clipboard('.copy-path'); </script>
        </p>
        <p>
            <span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="CC BY-NC-SA 4.0 International" target = "_blank">"署名-非商用-相同方式共享 4.0"</a> 转载请保留原文链接及作者。
        </p>
    </div>



    <nav id="article-nav">
        
            <div id="article-nav-newer" class="article-nav-title">
                <a href="/2021/12/13/markdown/SpringBootDataBase/">
                    SpringBoot DataBase
                </a>
            </div>
        
        
            <div id="article-nav-older" class="article-nav-title">
                <a href="/2021/12/13/SpringBootLearn/">
                    SpringBootLearn
                </a>
            </div>
        
    </nav>

  
</article>

    <div id="toc" class="toc-article">
        <strong class="toc-title">文章目录</strong>
        
            <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#SpringBoot%E7%9A%84%E4%B8%A4%E7%A7%8D%E5%85%A8%E5%B1%80%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">1.</span> <span class="toc-text">SpringBoot的两种全局配置文件:</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SpringBoot%E9%85%8D%E7%BD%AE%E7%BB%91%E5%AE%9A"><span class="toc-number"></span> <span class="toc-text">SpringBoot配置绑定</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SpringBoot%E5%AF%BC%E5%85%A5Spring%E9%85%8D%E7%BD%AE"><span class="toc-number"></span> <span class="toc-text">SpringBoot导入Spring配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ImportResource%E5%AF%BC%E5%85%A5Spring%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">1.</span> <span class="toc-text">@ImportResource导入Spring配置文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E6%B3%A8%E8%A7%A3%E5%8A%A0%E8%BD%BDSpring%E9%85%8D%E7%BD%AE"><span class="toc-number">2.</span> <span class="toc-text">全注解加载Spring配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">3.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SpringBootProfile-%E5%A4%9A%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE"><span class="toc-number"></span> <span class="toc-text">SpringBootProfile(多环境配置)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9AProfile%E6%96%87%E4%BB%B6%E6%96%B9%E5%BC%8F"><span class="toc-number">1.</span> <span class="toc-text">多Profile文件方式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SpringBoot-%E9%BB%98%E8%AE%A4%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number"></span> <span class="toc-text">SpringBoot 默认配置文件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">1.</span> <span class="toc-text">默认配置文件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SpringBoot%E5%A4%96%E9%83%A8%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number"></span> <span class="toc-text">SpringBoot外部配置文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SpringBoot%E9%85%8D%E7%BD%AE%E5%8A%A0%E8%BD%BD%E9%A1%BA%E5%BA%8F"><span class="toc-number"></span> <span class="toc-text">SpringBoot配置加载顺序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SpringBoot%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE%E5%8E%9F%E7%90%86"><span class="toc-number"></span> <span class="toc-text">SpringBoot自动配置原理</span></a>
        
    </div>
    <style>
        .left-col .switch-btn,
        .left-col .switch-area {
            display: none;
        }
        .toc-level-3 i,
        .toc-level-3 ol {
            display: none !important;
        }
    </style>

    <input type="button" id="tocButton" value="隐藏目录"  title="点击按钮隐藏或者显示文章目录">

    <script>
        yiliaConfig.toc = ["隐藏目录", "显示目录", !!"false"];
    </script>



    
<div class="share">
    
        <div class="bdsharebuttonbox">
            <a href="#" class="fa fa-twitter bds_twi" data-cmd="twi" title="分享到推特"></a>
            <a href="#" class="fa fa-weibo bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
            <a href="#" class="fa fa-qq bds_sqq" data-cmd="sqq" title="分享给 QQ 好友"></a>
            <a href="#" class="fa fa-files-o bds_copy" data-cmd="copy" title="复制网址"></a>
            <a href="#" class="fa fa fa-envelope-o bds_mail" data-cmd="mail" title="通过邮件分享"></a>
            <a href="#" class="fa fa-weixin bds_weixin" data-cmd="weixin" title="生成文章二维码"></a>
            <a href="#" class="fa fa-share-alt bds_more" data-cmd="more"></i></a>
        </div>
        <script>
            window._bd_share_config={
                "common":{"bdSnsKey":{},"bdText":"SpringBoot Configuration　| Learning Blog　","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
        </script>
    

    
</div>







    




    <div class="scroll" id="post-nav-button">
        
            <a href="/2021/12/13/markdown/SpringBootDataBase/" title="上一篇: SpringBoot DataBase">
                <i class="fa fa-angle-left"></i>
            </a>
        

        <a title="文章列表"><i class="fa fa-bars"></i><i class="fa fa-times"></i></a>

        
            <a href="/2021/12/13/SpringBootLearn/" title="下一篇: SpringBootLearn">
                <i class="fa fa-angle-right"></i>
            </a>
        
    </div>

    <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2021/12/13/markdown/YAMLStudy/">YAML</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/12/13/markdown/ThymeleafStudy/">Thymeleaf</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/12/13/markdown/SpringBootWebStatic/">SpringBoot Web Static Source</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/12/13/markdown/SpringBootWebRegistration/">SpringBoot Web Registration</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/12/13/markdown/SpringBootStarter/">SpringBoot Starter</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/12/13/markdown/SpringBootLog/">SpringBoot Log</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/12/13/markdown/SpringBootInternationalization/">SpringBoot Internationalization</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/12/13/markdown/SpringBootInterceptor/">SpringBoot Interceptor</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/12/13/markdown/SpringBootException/">SpringBoot Exception</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/12/13/markdown/SpringBootDataBase/">SpringBoot DataBase</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/12/13/markdown/SpringBootConfiguration/">SpringBoot Configuration</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/12/13/SpringBootLearn/">SpringBootLearn</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/10/20/hello-world/">Hello World</a></li></ul>




    <script>
        
    </script>
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2021 VHBin
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="快速、简洁且高效的博客框架">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="简而不减 Hexo 双栏博客主题  v3.5">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" title="本站到访数"><i class="fa fa-user" aria-hidden="true"></i><span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>| </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit"  title="本页阅读量"><i class="fa fa-eye animated infinite pulse" aria-hidden="true"></i><span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
    
<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 5;
                var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>





<div class="scroll" id="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window
    
        $("a[target=_blank]").removeAttr("target");
    
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>